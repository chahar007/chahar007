"use strict";(self.webpackChunkwishes=self.webpackChunkwishes||[]).push([[17],{1017:(De,at,h)=>{h.r(at),h.d(at,{WishModule:()=>ke});var x=h(6895),lt=h(2655),c=h(1571);let Tt=(()=>{class t{constructor(){this.emitter=new c.vpe}emit(n){this.emitter.emit(n)}subscribe(n){return this.emitter.subscribe(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Et=h(1859),p=h(433),Rt=h(1884),Mt=h(8937);function ut(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(m){return void n(m)}a.done?e(l):Promise.resolve(l).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){ut(s,r,i,o,a,"next",l)}function a(l){ut(s,r,i,o,a,"throw",l)}o(void 0)})}}const Ft=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${t}`)})();function y(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function b(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function mt(t,e={}){const n=e.width||function It(t){const e=b(t,"border-left-width"),n=b(t,"border-right-width");return t.clientWidth+e+n}(t),r=e.height||function kt(t){const e=b(t,"border-top-width"),n=b(t,"border-bottom-width");return t.clientHeight+e+n}(t);return{width:n,height:r}}const d=16384;function w(t){return new Promise((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}function P(){return(P=u(function*(t){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})).apply(this,arguments)}function T(){return T=u(function*(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),function At(t){return P.apply(this,arguments)}(i)}),T.apply(this,arguments)}const f=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||f(n,e))};function ft(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(""===i||"none"===i)return;const s=Ft();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(function Bt(t,e,n){const r=`.${t}:${e}`,i=n.cssText?function $t(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function Wt(t){return y(t).map(e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`).join(" ")}(n);return document.createTextNode(`${r}{${i}}`)}(s,n,r)),e.appendChild(o)}const dt="application/font-woff",ht="image/jpeg",Zt={woff:dt,woff2:dt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ht,jpeg:ht,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function E(t){const e=function Ht(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return Zt[e]||""}function R(t){return-1!==t.search(/^(data:)/)}function gt(t,e){return`data:${e};base64,${t}`}function pt(t,e,n){return M.apply(this,arguments)}function M(){return(M=u(function*(t,e,n){const r=yield fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const i=yield r.blob();return new Promise((s,o)=>{const a=new FileReader;a.onerror=o,a.onloadend=()=>{try{s(n({res:r,result:a.result}))}catch(l){o(l)}},a.readAsDataURL(i)})})).apply(this,arguments)}const O={};function F(t,e,n){return I.apply(this,arguments)}function I(){return(I=u(function*(t,e,n){const r=function Gt(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=O[r])return O[r];let i;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const s=yield pt(t,n.fetchRequestInit,({res:o,result:a})=>(e||(e=o.headers.get("Content-Type")||""),function zt(t){return t.split(/,/)[1]}(a)));i=gt(s,e)}catch(s){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o="string"==typeof s?s:s.message),o&&console.warn(o)}return O[r]=i,i})).apply(this,arguments)}function k(){return(k=u(function*(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):w(e)})).apply(this,arguments)}function L(){return(L=u(function*(t,e){if(t.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");return s.width=t.clientWidth,s.height=t.clientHeight,o?.drawImage(t,0,0,s.width,s.height),w(s.toDataURL())}const n=t.poster,r=E(n);return w(yield F(n,r,e))})).apply(this,arguments)}function U(){return(U=u(function*(t){var e;try{if(null!==(e=t?.contentDocument)&&void 0!==e&&e.body)return yield C(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)})).apply(this,arguments)}function A(){return A=u(function*(t,e){return f(t,HTMLCanvasElement)?function Vt(t){return k.apply(this,arguments)}(t):f(t,HTMLVideoElement)?function Jt(t,e){return L.apply(this,arguments)}(t,e):f(t,HTMLIFrameElement)?function qt(t){return U.apply(this,arguments)}(t):t.cloneNode(!1)}),A.apply(this,arguments)}const Qt=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function D(){return(D=u(function*(t,e,n){var r,i;let s=[];return s=Qt(t)&&t.assignedNodes?y(t.assignedNodes()):f(t,HTMLIFrameElement)&&null!==(r=t.contentDocument)&&void 0!==r&&r.body?y(t.contentDocument.body.childNodes):y((null!==(i=t.shadowRoot)&&void 0!==i?i:t).childNodes),0===s.length||f(t,HTMLVideoElement)||(yield s.reduce((o,a)=>o.then(()=>C(a,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve())),e})).apply(this,arguments)}function $(){return($=u(function*(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let s=0;s<n.length;s++){const a=n[s].getAttribute("xlink:href");if(a){const l=t.querySelector(a),m=document.querySelector(a);!l&&m&&!r[a]&&(r[a]=yield C(m,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const a=document.createElementNS(s,"defs");o.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);t.appendChild(o)}return t})).apply(this,arguments)}function C(t,e,n){return W.apply(this,arguments)}function W(){return W=u(function*(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then(r=>function Yt(t,e){return A.apply(this,arguments)}(r,e)).then(r=>function Xt(t,e,n){return D.apply(this,arguments)}(t,r,e)).then(r=>function ee(t,e){return f(e,Element)&&(function Kt(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):y(r).forEach(i=>{let s=r.getPropertyValue(i);"font-size"===i&&s.endsWith("px")&&(s=Math.floor(parseFloat(s.substring(0,s.length-2)))-.1+"px"),f(t,HTMLIFrameElement)&&"display"===i&&"inline"===s&&(s="block"),"d"===i&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),n.setProperty(i,s,r.getPropertyPriority(i))})}(t,e),function jt(t,e){ft(t,e,":before"),ft(t,e,":after")}(t,e),function Nt(t,e){f(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),f(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function te(t,e){if(f(t,HTMLSelectElement)){const r=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}(t,e)),e}(t,r)).then(r=>function ne(t,e){return $.apply(this,arguments)}(r,e)):null}),W.apply(this,arguments)}const yt=/url\((['"]?)([^'"]+?)\1\)/g,re=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ie=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function B(){return(B=u(function*(t,e,n,r,i){try{const s=n?function Ot(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}(e,n):e,o=E(e);let a;return a=i?gt(yield i(s),o):yield F(s,o,r),t.replace(function se(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${a}$3`)}catch{}return t})).apply(this,arguments)}function _t(t){return-1!==t.search(yt)}function xt(t,e,n){return j.apply(this,arguments)}function j(){return j=u(function*(t,e,n){if(!_t(t))return t;const r=function ae(t,{preferredFontFormat:e}){return e?t.replace(ie,n=>{for(;;){const[r,,i]=re.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}(t,n);return function oe(t){const e=[];return t.replace(yt,(n,r,i)=>(e.push(i),n)),e.filter(n=>!R(n))}(r).reduce((s,o)=>s.then(a=>function ce(t,e,n,r,i){return B.apply(this,arguments)}(a,o,e,n)),Promise.resolve(r))}),j.apply(this,arguments)}function S(t,e,n){return Z.apply(this,arguments)}function Z(){return(Z=u(function*(t,e,n){var r;const i=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(i){const s=yield xt(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1})).apply(this,arguments)}function H(){return(H=u(function*(t,e){(yield S("background",t,e))||(yield S("background-image",t,e)),(yield S("mask",t,e))||(yield S("mask-image",t,e))})).apply(this,arguments)}function z(){return(z=u(function*(t,e){const n=f(t,HTMLImageElement);if((!n||R(t.src))&&(!f(t,SVGImageElement)||R(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=yield F(r,E(r),e);yield new Promise((s,o)=>{t.onload=s,t.onerror=o;const a=t;a.decode&&(a.decode=s),"lazy"===a.loading&&(a.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})})).apply(this,arguments)}function G(){return(G=u(function*(t,e){const r=y(t.childNodes).map(i=>bt(i,e));yield Promise.all(r).then(()=>t)})).apply(this,arguments)}function bt(t,e){return V.apply(this,arguments)}function V(){return V=u(function*(t,e){f(t,Element)&&(yield function le(t,e){return H.apply(this,arguments)}(t,e),yield function ue(t,e){return z.apply(this,arguments)}(t,e),yield function me(t,e){return G.apply(this,arguments)}(t,e))}),V.apply(this,arguments)}const wt={};function Ct(t){return J.apply(this,arguments)}function J(){return(J=u(function*(t){let e=wt[t];return null!=e||(e={url:t,cssText:yield(yield fetch(t)).text()},wt[t]=e),e})).apply(this,arguments)}function St(t,e){return q.apply(this,arguments)}function q(){return q=u(function*(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(function(){var o=u(function*(a){let l=a.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),pt(l,e.fetchRequestInit,({result:m})=>(n=n.replace(a,`url(${m})`),[a,m]))});return function(a){return o.apply(this,arguments)}}());return Promise.all(s).then(()=>n)}),q.apply(this,arguments)}function vt(t){if(null==t)return[];const e=[];let r=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(null===l)break;e.push(l[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let l=s.exec(r);if(null===l){if(l=a.exec(r),null===l)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;e.push(l[0])}return e}function Y(){return(Y=u(function*(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{y(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let a=o+1;const m=Ct(s.href).then(g=>St(g,e)).then(g=>vt(g).forEach(_=>{try{i.insertRule(_,_.startsWith("@import")?a+=1:i.cssRules.length)}catch(ot){console.error("Error inserting rule from remote css",{rule:_,error:ot})}})).catch(g=>{console.error("Error loading remote css",g.toString())});r.push(m)}})}catch(s){const o=t.find(a=>null==a.href)||document.styleSheets[0];null!=i.href&&r.push(Ct(i.href).then(a=>St(a,e)).then(a=>vt(a).forEach(l=>{o.insertRule(l,i.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{y(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))})).apply(this,arguments)}function Q(){return Q=u(function*(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=y(t.ownerDocument.styleSheets),r=yield function de(t,e){return Y.apply(this,arguments)}(n,e);return function he(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>_t(e.style.getPropertyValue("src")))}(r)}),Q.apply(this,arguments)}function X(){return X=u(function*(t,e){const n=yield function ge(t,e){return Q.apply(this,arguments)}(t,e);return(yield Promise.all(n.map(i=>xt(i.cssText,i.parentStyleSheet?i.parentStyleSheet.href:null,e)))).join("\n")}),X.apply(this,arguments)}function K(){return K=u(function*(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:yield function pe(t,e){return X.apply(this,arguments)}(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}),K.apply(this,arguments)}function N(){return N=u(function*(t,e={}){const{width:n,height:r}=mt(t,e),i=yield C(t,e,!0);return yield function ye(t,e){return K.apply(this,arguments)}(i,e),yield bt(i,e),function fe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach(i=>{n[i]=r[i]})}(i,e),yield function Dt(t,e,n){return T.apply(this,arguments)}(i,n,r)}),N.apply(this,arguments)}function tt(){return tt=u(function*(t,e={}){const{width:n,height:r}=mt(t,e),i=yield function _e(t){return N.apply(this,arguments)}(t,e),s=yield w(i),o=document.createElement("canvas"),a=o.getContext("2d"),l=e.pixelRatio||function Lt(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),m=e.canvasWidth||n,g=e.canvasHeight||r;return o.width=m*l,o.height=g*l,e.skipAutoScale||function Ut(t){(t.width>d||t.height>d)&&(t.width>d&&t.height>d?t.width>t.height?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d):t.width>d?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d))}(o),o.style.width=`${m}`,o.style.height=`${g}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,o.width,o.height)),a.drawImage(s,0,0,o.width,o.height),o}),tt.apply(this,arguments)}function nt(){return(nt=u(function*(t,e={}){return(yield function v(t){return tt.apply(this,arguments)}(t,e)).toDataURL()})).apply(this,arguments)}var be=h(7579),we=h(6063);class Ce extends be.x{constructor(e=1/0,n=1/0,r=we.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}let Se=(()=>{class t{constructor(n,r){this.document=r,this.renderer=n.createRenderer(null,null)}createMeme(n){const r=new Ce;window.devicePixelRatio=2;const o=this.renderer.createElement("canvas");o.height=656,o.width=656,o.style.height=String("328px"),o.style.width=String("328px");const a=o.getContext("2d");a.imageSmoothingEnabled=!0;const l=this.renderer.createElement("img");return l.crossOrigin="anonymous",l.src=n.imageUrl,l.onerror=()=>{r.error({success:!1,message:"template image load failed"})},l.onload=()=>{var m=Math.min(o.width/l.width,o.height/l.height),g=l.width*m,_=l.height*m;a.drawImage(l,o.width/2-g/2,o.height/2-_/2,g,_),a.font="36px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillStyle="#FFFFFF",a.strokeStyle="#000000",a.lineWidth=10,n.title&&(a.strokeText(n.title,328,608,616),a.fillText(n.title,328,608,616));let Ue=this.dataURLtoFile(o.toDataURL("image/png"),"image.png");const Ae=new Blob([Ue],{type:"image/png"}),Pt=window.URL.createObjectURL(Ae);window.open(Pt);const ct=document.createElement("a");ct.href=Pt,ct.download="Greeting",ct.click()},r.asObservable()}dataURLtoFile(n,r){for(var i=n.split(","),s=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,l=new Uint8Array(a);a--;)l[a]=o.charCodeAt(a);return new File([l],r,{type:s})}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(c.FYo),c.LFG(x.K0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ve(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"div",12),c.NdJ("click",function(){const s=c.CHM(n).$implicit,o=c.oxw(2);return c.KtG(o.templateSelected(s))}),c._UZ(1,"img",2),c.qZA()}if(2&t){const n=e.$implicit;c.ekj("selected",n.selected),c.xp6(1),c.Q6J("src",null==n?null:n.imgUrl,c.LSH)}}function Pe(t,e){if(1&t&&(c.TgZ(0,"div",10),c.YNc(1,ve,2,3,"div",11),c.qZA()),2&t){const n=c.oxw();c.xp6(1),c.Q6J("ngForOf",n.templates)}}function Te(t,e){if(1&t&&(c.TgZ(0,"div",13)(1,"form",14),c._UZ(2,"textarea",15),c.qZA()()),2&t){const n=c.oxw();c.xp6(1),c.Q6J("formGroup",n.formData)}}function Ee(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.changeStep(2))}),c._uU(1," Next "),c.qZA()}}function Re(t,e){if(1&t){const n=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){c.CHM(n);const i=c.oxw();return c.KtG(i.submit())}),c._uU(1," Download "),c.qZA()}if(2&t){const n=c.oxw();c.ekj("disabled",n.formData.invalid)}}let Me=(()=>{class t{constructor(n,r){this.wishService=n,this.fb=r,this.selectedTemplate={imageUrl:"assets/images/card/c1.jpeg",title:"Dummy text to check the response of the user"},this.templates=Mt.y,this.step=1,this.userText="",this.os="android"}ngOnInit(){this.formData=this.fb.group({text:[this.selectedTemplate.value,p.kI.required]}),this.os=this.getOS(),this.userInputSubs()}templateSelected(n){this.selectedTemplate.imageUrl=n.imgUrl,this.templates.map(r=>(r.selected=r.id==n.id,r))}changeStep(n){this.step=n}userInputSubs(){this.formData.get("text").valueChanges.pipe((0,Rt.x)()).subscribe(n=>{this.selectedTemplate.title=n.trim(),this.formData.get("text").setValue(n)})}submit(){this.formData.invalid||("ios"!=this.os?function xe(t){return nt.apply(this,arguments)}(document.getElementById("card-drawred"),{quality:.95}).then(function(n){var r=document.createElement("a");r.download="greetings.png",r.href=n,r.click()}):this.wishService.createMeme(this.selectedTemplate).subscribe(n=>{}))}getOS(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":"others"}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(Se),c.Y36(p.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-card"]],decls:13,vars:6,consts:[[1,"card-template"],["id","card-drawred",1,"sel-img"],["alt","",3,"src"],[1,"user-text"],["class","templates",4,"ngIf"],["class","user-input",4,"ngIf"],[1,"handle-ctas","d-flex","justify-content-center","mt-4"],[1,"btn","prev-btn",3,"click"],["class","btn btn-download",3,"click",4,"ngIf"],["class","btn btn-download",3,"disabled","click",4,"ngIf"],[1,"templates"],["class","template",3,"selected","click",4,"ngFor","ngForOf"],[1,"template",3,"click"],[1,"user-input"],[3,"formGroup"],["type","text","id","input","rows","3","formControlName","text",1,"form-control"],[1,"btn","btn-download",3,"click"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"div",3)(4,"p"),c._uU(5),c.qZA()()(),c.YNc(6,Pe,2,1,"div",4),c.YNc(7,Te,3,1,"div",5),c.TgZ(8,"div",6)(9,"button",7),c.NdJ("click",function(){return r.changeStep(1)}),c._uU(10,"Previous"),c.qZA(),c.YNc(11,Ee,2,0,"button",8),c.YNc(12,Re,2,2,"button",9),c.qZA()()),2&n&&(c.xp6(2),c.Q6J("src",null==r.selectedTemplate?null:r.selectedTemplate.imageUrl,c.LSH),c.xp6(3),c.Oqu((null==r.selectedTemplate?null:r.selectedTemplate.title)||""),c.xp6(1),c.Q6J("ngIf",1===r.step),c.xp6(1),c.Q6J("ngIf",2===r.step),c.xp6(4),c.Q6J("ngIf",1==r.step),c.xp6(1),c.Q6J("ngIf",2==r.step))},dependencies:[x.sg,x.O5,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:[".card-template[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:space-around;flex-direction:column}.card-template[_ngcontent-%COMP%]   .sel-img[_ngcontent-%COMP%]{position:relative;border-radius:1rem;width:calc(100vw - 2rem);height:calc(80vw - 2rem);background-repeat:no-repeat;background-size:contain;background-attachment:fixed}.card-template[_ngcontent-%COMP%]   .sel-img.ios[_ngcontent-%COMP%]{-o-background-size:cover;-moz-background-size:cover;-webkit-background-size:cover}.card-template[_ngcontent-%COMP%]   .sel-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:1rem}.card-template[_ngcontent-%COMP%]   .sel-img[_ngcontent-%COMP%]   .user-text[_ngcontent-%COMP%]{position:absolute;bottom:1rem}.card-template[_ngcontent-%COMP%]   .sel-img[_ngcontent-%COMP%]   .user-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:0 1rem;text-align:center;word-break:break-all}.card-template[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{margin-top:1rem;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row}.card-template[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.card-template[_ngcontent-%COMP%]   .templates[_ngcontent-%COMP%]{padding-top:1rem;display:flex;align-items:center;justify-content:space-between;flex-direction:row;flex-flow:wrap}.card-template[_ngcontent-%COMP%]   .templates[_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]{width:32%;padding:.5rem 1rem 0 0}.card-template[_ngcontent-%COMP%]   .templates[_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:1rem}.card-template[_ngcontent-%COMP%]   .templates[_ngcontent-%COMP%]   .template.selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid orange}.card-template[_ngcontent-%COMP%]   .handle-ctas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .5rem}.card-template[_ngcontent-%COMP%]   .handle-ctas[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]{background:#3691b2;color:#fff}.card-template[_ngcontent-%COMP%]   .handle-ctas[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{background:#551fbd;color:#fff}"]}),t})();const Oe=[{path:"",component:(()=>{class t{constructor(n){this.eventEmitterService=n,this.selectedTemplates={}}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(Tt))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-wish"]],decls:4,vars:0,consts:[[1,"create-wish-component"],[1,"sliders"]],template:function(n,r){1&n&&(c.TgZ(0,"div",0),c._UZ(1,"app-card"),c.TgZ(2,"div",1),c._UZ(3,"app-slider"),c.qZA()())},dependencies:[Et.P,Me],styles:[".create-wish-component[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})()}];let Fe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[lt.Bz.forChild(Oe),lt.Bz]}),t})();var Ie=h(4466);let ke=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[x.ez,Fe,Ie.m,p.UX]}),t})()}}]);